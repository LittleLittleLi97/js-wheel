{"version":3,"file":"vue.js","sources":["../src/utils.js","../src/global-api/mixin.js","../src/compiler/parse.js","../src/compiler/render.js","../src/compiler/index.js","../src/observe/dep.js","../src/observe/watcher.js","../src/vdom/index.js","../src/vdom/patch.js","../src/lifecycle.js","../src/observe/array.js","../src/observe/index.js","../src/state.js","../src/init.js","../src/index.js"],"sourcesContent":["const strategies = {};\nconst LIFECYCLE = [\n    'beforeCreate',\n    'created',\n];\nLIFECYCLE.forEach((hook)=>{\n    strategies[hook] = function(parent, child) {\n        if (child) {\n            if (parent) {\n                return parent.concat(child);\n            } else {\n                return [child];\n            }\n        } else {\n            return parent;\n        }\n    }\n})\n\nexport function mergeOptions(parent, child) {\n    const options = {};\n\n    for (let key in parent) {\n        mergeField(key);\n    }\n    for (let key in child) {\n        if (!parent.hasOwnProperty(key)) {\n            mergeField(key);\n        }\n    }\n\n    function mergeField(key) {\n        if (strategies[key]) {\n            options[key] = strategies[key](parent[key], child[key]);\n        } else {\n            options[key] = parent[key] || child[key];\n        }\n    }\n\n    return options;\n}","import { mergeOptions } from \"../utils\";\n\nexport function initMixinGlobalAPI(Vue) {\n    Vue.options = {};\n\n    Vue.mixin = function(mixin) {\n        this.options = mergeOptions(this.options, mixin);\n\n        return this;\n    }\n\n}","// id=\"app\" id='app' id=app\nconst attribute = /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/;\n// 标签名 <my-header></my-header>\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`;\n// <my:header></my:header>\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`;\n// <div\nconst startTagOpen = new RegExp(`^<${qnameCapture}`);\n// > 或 />\nconst startTagClose = /^\\s*(\\/?)>/;\n// </div>\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`);\n\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\n\nexport function parseToAst(html) {\n\n    const ELEMENT_TYPE = 1;\n    const TEXT_TYPE = 3;\n    const stack = [];\n    let currentParent;\n    let root;\n\n    function start(tagMatch) {\n        const node = generateNode(tagMatch.tagName, tagMatch.attrs);\n        if (!root) {\n            root = node;\n        }\n        if (currentParent) {\n            currentParent.children.push(node);\n            node.parent = currentParent;\n        }\n        currentParent = node;\n        stack.push(node);\n    }\n    function end() {\n        stack.pop();\n        currentParent = stack[stack.length - 1];\n    }\n    function chars(text) {\n        text = text.trim();\n        if (text) {\n            currentParent.children.push({\n                type: TEXT_TYPE,\n                text,\n                parent: currentParent\n            });\n        }\n    }\n    function generateNode(tag, attrs) {\n        return {\n            tag,\n            type: ELEMENT_TYPE,\n            attrs,\n            children: [],\n            parent: null\n        }\n    }\n    function advance(n) {\n        html = html.substring(n);\n    }\n    function parseStartTag() {\n        const tag = html.match(startTagOpen);\n        if (tag) {\n            const match = {\n                tagName: tag[1],\n                attrs: []\n            };\n            advance(tag[0].length);\n            let attr;\n            let end;\n            while (!(end = html.match(startTagClose)) && (attr = html.match(attribute))) {\n                match.attrs.push({\n                    name: attr[1],\n                    value: attr[3] || attr[4] || attr[5]\n                });\n                advance(attr[0].length);\n            }\n            if (end) advance(end[0].length);\n\n            return match;\n        }\n        return false;\n    }\n    while (html) {\n        let textEnd = html.indexOf('<');\n        if (textEnd === 0) {\n            const startTagMatch = parseStartTag();\n\n            if (startTagMatch) {\n                start(startTagMatch);\n                continue;\n            }\n\n            const endTagMatch = html.match(endTag);\n            if (endTagMatch) {\n                end(endTagMatch);\n                advance(endTagMatch[0].length);\n            }\n        }\n        if (textEnd > 0) {\n            const text = html.substring(0, textEnd);\n            chars(text);\n            advance(textEnd);\n        }\n    }\n    return root;\n}","function getAttrs(attrs) {\n\n    const result = attrs.map((item)=>{\n\n        let key = item.name;\n        let value = item.value;\n\n        if (key === 'style') {\n            value = value.split(';');\n            const obj = {};\n            value.forEach((item)=>{\n                const [styleKey, styleValue] = item.split(':');\n                if (styleKey) {\n                    // arr.push({\n                    //     styleKey: styleValue\n                    // });\n                    obj[styleKey.trim()] = styleValue.trim();\n                }\n            });\n\n            return `${key}:${JSON.stringify(obj)}`;\n\n        } else {\n            return `${key}:${JSON.stringify(value)}`;\n        }\n    });\n\n    return `{${result.join(',')}}`;\n}\n\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g;\nfunction parseChildren(children) {\n\n    const res = children.map((item)=>{\n\n        if (item.type === 1) {\n            return parseToRender(item);\n        } else if (item.type === 3) {\n            let text = item.text\n            const arr = [];\n\n            if (defaultTagRE.test(text)) {\n                defaultTagRE.lastIndex = 0;\n                let lastIndex = 0;\n                let match;\n                while (match = defaultTagRE.exec(text)) {\n                    const beforeText = text.substring(lastIndex, match.index);\n                    if (beforeText) arr.push(`\"${beforeText}\"`);\n                    arr.push(`_s(${match[1].trim()})`);\n                    lastIndex = defaultTagRE.lastIndex;\n                }\n\n                const last = text.substring(lastIndex);\n                if (last) arr.push(`\"${last}\"`);\n            }\n            return `_v(${arr.join('+')})`;\n        }\n    });\n\n    return res.join(',');\n}\n\nexport function parseToRender(ast) {\n    const children = ast.children;\n    return `_c('${ast.tag}',${\n            ast.attrs ? getAttrs(ast.attrs) : null\n        }${children.length > 0 ? `,${\n            parseChildren(children)}` : null\n        })`;\n}","import { parseToAst } from \"./parse\";\nimport { parseToRender } from \"./render\";\n\n\n\nexport function compileToRender(template) {\n    const ast = parseToAst(template);\n    const render = parseToRender(ast);\n    return new Function(`with(this){return ${render}}`);\n}","let id = 0;\n\nexport class Dep {\n    constructor() {\n        this.id = id++;\n        this.subs = [];\n    }\n    depend() {\n        Dep.target && Dep.target.addDep(this);\n    }\n    addSub(watcher) {\n        this.subs.push(watcher);\n    }\n    notify() {\n        this.subs.forEach((watcher)=>watcher.update())\n    }\n}\n\nDep.target = null;\n\nconst stack = [];\nexport function pushTarget(watcher) {\n    stack.push(watcher);\n    Dep.target = watcher;\n}\nexport function popTarget() {\n    stack.pop();\n    Dep.target = stack[stack.length - 1];\n}","import { Dep, popTarget, pushTarget } from \"./dep\";\n\nlet id = 0;\n\nexport class Watcher {\n    constructor(vm, exprOrFn, options, callback) {\n        this.vm = vm;\n        this.id = id++;\n        this.renderWacher = options;\n        if (typeof exprOrFn === 'string') {\n            this.getter = function() {\n                return vm[exprOrFn];\n            }\n        } else {\n            this.getter = exprOrFn;\n        }\n        this.deps = [];\n        this.depIdSet = new Set();\n        this.lazy = options.lazy;\n        this.cb = callback;\n        this.dirty = this.lazy;\n        this.user = options.user;\n\n        // this.value watch的初始值，或computed的计算值\n        // watch第一次执行get()，也就是获取了一下data属性，让其dep记录此watcher\n        this.value = this.lazy ? undefined : this.get();\n    }\n    get() {\n        pushTarget(this);\n        const value = this.getter.call(this.vm); // 在计算属性fn的执行时，this指向vm\n        popTarget();\n        return value;\n    }\n    evaluate() {\n        this.value = this.get();\n        this.dirty = false;\n    }\n    addDep(dep) {\n        const id = dep.id;\n        if (!this.depIdSet.has(id)) {\n            this.deps.push(dep);\n            this.depIdSet.add(id);\n            dep.addSub(this);\n        }\n    }\n    update() {\n        if (this.lazy) { // 计算属性watcher修改dirty\n            this.dirty = true;\n        } else { // 渲染watcher加入更新队列\n            queueWatcher(this);\n        }\n    }\n    run() {\n        let oldValue = this.value;\n        let newValue = this.get();\n        if (this.user) {\n            this.cb.call(this.vm, newValue, oldValue);\n        }\n    }\n    depend() {\n        this.deps.forEach((dep)=>{\n            dep.depend();\n        });\n    }\n}\n\nconst queue = [];\nlet has = {};\nfunction queueWatcher(watcher) {\n    const id = watcher.id;\n    if (!has[id]) {\n        queue.push(watcher);\n        has[id] = true;\n        nextTick(flushQueueWatcher);\n    }\n}\n\n/* \n这里的实现是简化之后的\nVue 源码中的注释：\n在刷新之前对队列进行排序。\n这可确保：\n1. 组件从父级更新到子级。 （因为父母总是在孩子之前创建）\n2. 组件的用户观察者在其渲染观察者之前运行（因为用户观察者是在渲染观察者之前创建的）\n3. 如果一个组件在父组件的 watcher 运行过程中被销毁，它的 watchers 可以跳过。\n*/\nfunction flushQueueWatcher() {\n    const watchers = queue.slice(0);\n    queue.length = 0;\n    has = {};\n    watchers.forEach((watcher)=>{\n        watcher.run();\n    })\n}\n\nconst nextTickCallbacks = [];\nlet waiting = false;\nexport function nextTick(callback) {\n    nextTickCallbacks.push(callback);\n    if (!waiting) {\n        waiting = true;\n        Promise.resolve().then(flushNextTickCallbacks);\n    }\n}\n\nfunction flushNextTickCallbacks() {\n    const callbacks = nextTickCallbacks.slice(0);\n    nextTickCallbacks.length = 0;\n    waiting = false;\n    callbacks.forEach((callback)=>{\n        callback();\n    })\n}","export function createElementVNode(vm, tag, data, ...children) {\n    const key = data.key;\n    if (key) {\n        delete data.key;\n    }\n    return createVNode(vm, tag, key, data, children);\n}\n\nexport function createTextVNode(vm, text) {\n    return createVNode(vm, undefined, undefined, undefined, undefined, text);\n}\n\nexport function createVNode(vm, tag, key, data, children, text) {\n    return {\n        vm,\n        tag,\n        key,\n        data,\n        children,\n        text\n    }\n}\n\nexport function isSameVNode(vnode1, vnode2) {\n    return vnode1.tag === vnode2.tag && vnode1.key === vnode2.key;\n}","import { isSameVNode } from \".\";\n\nexport function createElement(vnode) {\n    const {tag, data, children, text} = vnode;\n    let element;\n    if (typeof tag === 'string') {\n        element = document.createElement(tag);\n        vnode.el = element;\n        patchAttrs(element, data);\n        children.forEach(child => {\n            element.appendChild(createElement(child));\n        });\n    } else {\n        element = document.createTextNode(text);\n        vnode.el = element;\n    }\n    return vnode.el;\n}\nexport function patchAttrs(element, attrs) {\n    for (let key in attrs) {\n        if (key === 'style') {\n            for (let styleName in attrs[key]) {\n                element.style[styleName] = attrs[key][styleName];\n            }\n        } else {\n            element.setAttribute(key, attrs[key]);\n        }\n    }\n}\n\nexport function patch(oldVNode, vnode) {\n    if (oldVNode.nodeType) { // 第一次patch\n        const oldElement = oldVNode;\n        const newElement = createElement(vnode);\n        const parentDom = oldElement.parentNode;\n        parentDom.insertBefore(newElement, oldElement.nextSibling);\n        parentDom.removeChild(oldElement);\n\n        return newElement;\n    } else { // diff\n        return patchVNode(oldVNode, vnode);\n    }\n}\n\nfunction patchVNode(oldVNode, vnode) {\n    if (!isSameVNode(oldVNode, vnode)) {\n        let el = createElement(vnode);\n        oldVNode.el.parentNode.replaceChild(el, oldVNode);\n        return el;\n    }\n\n    // 文本\n    let el = vnode.el = oldVNode.el;\n    if (!oldVNode.tag) {\n        if (oldVNode.text !== vnode.text) {\n            el.textContent = vnode.text;\n        }\n    }\n}","import { Watcher } from \"./observe/watcher\";\nimport { createElementVNode, createTextVNode } from \"./vdom\";\nimport { patch } from \"./vdom/patch\";\n\nexport function initLifeCycle(Vue) {\n    Vue.prototype._c = function() {\n        return createElementVNode(this, ...arguments);\n    }\n    Vue.prototype._v = function() {\n        return createTextVNode(this, ...arguments);\n    }\n    Vue.prototype._s = function(value) {\n        if (typeof value === 'object') return JSON.stringify(value);\n        else return value;\n    }\n    Vue.prototype._update = function(vnode) {\n        const vm = this;\n        const el = vm.$el;\n\n        vm.$el = patch(el, vnode);\n    }\n    Vue.prototype._render = function() {\n        return this.$options.render.call(this);\n    }\n}\n\nexport function mountComponent(vm, el) {\n    vm.$el = el;\n    const updateFunc = ()=>{\n        vm._update(vm._render());\n    };\n    new Watcher(vm, updateFunc, {});\n}\n\nexport function callHook(vm, hook) {\n    const handlers = vm.$options[hook];\n    if (handlers) {\n        handlers.forEach((handler)=>{\n            handler.call(vm);\n        })\n    }\n}","import { observe } from \"./index\";\n\nconst oldArrayProto = Array.prototype;\n\nexport const newArrayProto = Object.create(oldArrayProto);\n\nconst arrMethods = [\n    'push',\n    'pop',\n    'shift',\n    'unshift',\n    'reverse',\n    'splice',\n    'sort'\n];\n\narrMethods.forEach(method=>{\n    newArrayProto[method] = function(...args) {\n\n        const result = oldArrayProto[method].call(this, ...args);\n\n        const ob = this.__ob__; // this指向数组本身，数组挂上了Observer对象\n\n        let inserted;\n\n        switch (method) {\n            case 'push':\n            case 'unshift':\n                inserted = args;\n                break;\n            case 'splice':\n                inserted = args.slice(2);\n                break;\n            default:\n                break;\n        }\n\n        // inserted && observe(inserted);\n        ob.observeArray(inserted);\n        ob.dep.notify();\n\n        return result;\n    }\n})","import { newArrayProto } from \"./array\";\nimport { Dep } from \"./dep\";\n\nclass Observer {\n    constructor(data) {\n        \n        this.dep = new Dep();\n\n        // data.__ob__ = this; // this指向此对象，可以用于调用observeArray，但是这么写会被遍历到，重复调用而报错\n        Object.defineProperty(data, '__ob__', {\n            value: this,\n            enumerable: false // 设置不可被遍历\n        })\n\n        if (Array.isArray(data)) {\n            data.__proto__ = newArrayProto;\n            this.observeArray(data);\n\n        } else {\n            this.walk(data);\n        }\n    }\n    walk(data) {\n        Object.keys(data).forEach(key=>defineReactive(data, key, data[key]));\n    }\n    observeArray(data) {\n        data.forEach(item=>observe(item));\n    }\n}\n\nfunction dependArray(value) {\n    for (let i = 0; i < value.length; i++) {\n        const current = value[i];\n        current.__ob__ && current.__ob__.dep.depend();\n        if (Array.isArray(current)) {\n            dependArray(current);\n        }\n    }\n}\n\nexport function defineReactive(target, key, value) {\n    const childOb = observe(value);\n    const dep = new Dep();\n    Object.defineProperty(target, key, {\n        get() {\n            if (Dep.target !== null) {\n                dep.depend();\n                if (childOb) {\n                    childOb.dep.depend();\n                    if (Array.isArray(value)) {\n                        dependArray(value);\n                    }\n                }\n            }\n            return value;\n        },\n        set(newValue) {\n            if (value === newValue) return;\n            observe(value);\n            value = newValue;\n            dep.notify();\n        }\n    })\n}\n\nexport function observe(data) {\n    if (typeof data !== 'object' || data === null) return;\n\n    return new Observer(data);\n}","import { Dep } from \"./observe/dep\";\nimport { observe } from \"./observe/index\";\nimport { nextTick, Watcher } from \"./observe/watcher\";\n\nexport function initState(vm) {\n    const opts = vm.$options;\n    \n    if (opts.data) {\n        initData(vm);\n    }\n\n    if (opts.computed) {\n        initComputed(vm);\n    }\n\n    if (opts.watch) {\n        initWatch(vm);\n    }\n}\n\nfunction proxy(vm, target, key) {\n    Object.defineProperty(vm, key, {\n        get() {\n            return vm[target][key];\n        },\n        set(newValue) {\n            observe(newValue);\n            vm[target][key] = newValue;\n        }\n    })\n}\n\nfunction initData(vm) {\n    let data = vm.$options.data;\n    data = typeof data === 'function' ? data.call(vm) : data;\n\n    vm._data = data;\n\n    observe(data);\n\n    for (let key in data) {\n        proxy(vm, '_data', key);\n    }\n}\n\nfunction initComputed(vm) {\n    const computed = vm.$options.computed;\n    const watchers = vm._computedWatchers = {};\n\n    for (let key in computed) {\n        const userDef = computed[key];\n\n        const fn = typeof userDef === 'function' ? userDef : userDef.get;\n        watchers[key] = new Watcher(vm, fn ,{lazy: true});\n\n        defineComputed(vm, key, userDef);\n    }\n}\n\nfunction defineComputed(target, key, userDef) {\n    const setter = userDef.set || (()=>{});\n\n    Object.defineProperty(target, key, {\n        get: createComputedGetter(key),\n        set: setter\n    });\n}\n\nfunction createComputedGetter(key) {\n    return function() {\n        const watcher = this._computedWatchers[key];\n        if (watcher.dirty) {\n            watcher.evaluate();\n        }\n        if (Dep.target) {\n            watcher.depend();\n        }\n        return watcher.value;\n    }\n}\n\nfunction initWatch(vm) {\n    const watch = vm.$options.watch;\n\n    for (let key in watch) {\n        const handler = watch[key];\n        if (Array.isArray(handler)) {\n            handler.forEach((item)=>createWatch(vm, key, item));\n        } else {\n            createWatch(vm, key, handler);\n        }\n    }\n}\n\nfunction createWatch(vm, key, handler) {\n    if (typeof handler === 'string') {\n        handler = vm[handler];\n    }\n    return vm.$watch(key, handler);\n}\n\nexport function initStateMixin(Vue) {\n    Vue.prototype.$nextTick = nextTick;\n    Vue.prototype.$watch = function(exprOrFn, callback) {\n        new Watcher(this, exprOrFn, {user:true}, callback);\n    }\n}","import { compileToRender } from \"./compiler/index\";\nimport { callHook, mountComponent } from \"./lifecycle\";\nimport { initState } from \"./state\";\nimport { mergeOptions } from \"./utils\";\n\nexport function initMixin(Vue) {\n    Vue.prototype._init = function(options) {\n\n        const vm = this;\n\n        // LifeCycle 定义的全局指令和过滤器，都会挂载到实例上\n        vm.$options = mergeOptions(this.constructor.options, options); // 将用户的选项挂载到实例上\n\n        callHook(vm, 'beforeCreate');\n\n        // LifeCycle 初始化状态，如data、计算属性、watch\n        initState(vm);\n\n        callHook(vm, 'created');\n\n        if (options.el) {\n            vm.$mount(options.el);\n        }\n\n    }\n    Vue.prototype.$mount = function(el) {\n        const vm = this;\n        const options = vm.$options;\n\n        el = document.querySelector(el);\n\n        if (!options.render) {\n            let template = options.template;\n            if (!template && el) template = el.outerHTML;\n\n            const render = compileToRender(template);\n            options.render = render;\n        }\n\n        mountComponent(vm, el);\n    }\n}","import { initMixinGlobalAPI } from \"./global-api/mixin\";\nimport { initMixin } from \"./init\";\nimport { initLifeCycle } from \"./lifecycle\";\nimport { initStateMixin } from \"./state\";\n\nfunction Vue(options) {\n    this._init(options);\n}\n\ninitMixin(Vue); // 引入包的时候就掉用了，所以在Vue实例化的时候已经有了_init方法\ninitLifeCycle(Vue);\ninitMixinGlobalAPI(Vue);\ninitStateMixin(Vue);\n\n\n\nexport default Vue;"],"names":["strategies","LIFECYCLE","forEach","hook","parent","child","concat","mergeOptions","options","key","mergeField","hasOwnProperty","initMixinGlobalAPI","Vue","mixin","attribute","ncname","qnameCapture","startTagOpen","RegExp","startTagClose","endTag","parseToAst","html","ELEMENT_TYPE","TEXT_TYPE","stack","currentParent","root","start","tagMatch","node","generateNode","tagName","attrs","children","push","end","pop","length","chars","text","trim","type","tag","advance","n","substring","parseStartTag","match","attr","name","value","textEnd","indexOf","startTagMatch","endTagMatch","getAttrs","result","map","item","split","obj","styleKey","styleValue","JSON","stringify","join","defaultTagRE","parseChildren","res","parseToRender","arr","test","lastIndex","exec","beforeText","index","last","ast","compileToRender","template","render","Function","id","Dep","subs","target","addDep","watcher","update","pushTarget","popTarget","Watcher","vm","exprOrFn","callback","renderWacher","getter","deps","depIdSet","Set","lazy","cb","dirty","user","undefined","get","call","dep","has","add","addSub","queueWatcher","oldValue","newValue","depend","queue","nextTick","flushQueueWatcher","watchers","slice","run","nextTickCallbacks","waiting","Promise","resolve","then","flushNextTickCallbacks","callbacks","createElementVNode","data","createVNode","createTextVNode","isSameVNode","vnode1","vnode2","createElement","vnode","element","document","el","patchAttrs","appendChild","createTextNode","styleName","style","setAttribute","patch","oldVNode","nodeType","oldElement","newElement","parentDom","parentNode","insertBefore","nextSibling","removeChild","patchVNode","replaceChild","textContent","initLifeCycle","prototype","_c","arguments","_v","_s","_update","$el","_render","$options","mountComponent","updateFunc","callHook","handlers","handler","oldArrayProto","Array","newArrayProto","Object","create","arrMethods","method","args","ob","__ob__","inserted","observeArray","notify","Observer","defineProperty","enumerable","isArray","__proto__","walk","keys","defineReactive","observe","dependArray","i","current","childOb","set","initState","opts","initData","computed","initComputed","watch","initWatch","proxy","_data","_computedWatchers","userDef","fn","defineComputed","setter","createComputedGetter","evaluate","createWatch","$watch","initStateMixin","$nextTick","initMixin","_init","constructor","$mount","querySelector","outerHTML"],"mappings":"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"}